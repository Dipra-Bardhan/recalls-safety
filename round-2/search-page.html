<!DOCTYPE html>
<!--
  DOCUMENTATION:
  ==============
  - Look for comments "EMBED" for pieces of that page
    you can cut-n-paste in your Drupal page (or anywhere else).
  - You can change the HTML, but keep the "id" attributes and custom classes
    since JavaScript references them.
  - IDs starting with "template-" represent code that will be copied
    via javascript to populate the page.
  -->
<html lang="en">
<head>
<meta content="width=device-width,initial-scale=1" name="viewport">
<meta charset="UTF-8">
<title>Test Search Page</title>
<style>
.active {
  font-weight: bold;
  color: green;
}
</style>

<link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/wet-boew/css/wet-boew.min.css"/>
<link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/wet-boew/css/theme.min.css"/>
<link rel="stylesheet" href="./search-embed.css"/>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"/>
<!--[if gte IE 9 | !IE ]><!-->
<link href="https://www.canada.ca/etc/designs/canada/wet-boew/assets/favicon.ico" rel="icon" type="image/x-icon"/>
<!--<![endif]-->
<!-- ↓ ↓ EMBED ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ ↓ -->

<!--
  NOTE: Ideally you would want the API_URL variable to be configurable
  in Drupal, but for now it does not matter much if it is hard-coded here.
  Just update them to use appropriate values if need be.
  -->
<script type="text/javascript">
  const API_URL = 'https://tbs.norconex.com/api';
  //const API_URL = 'http://localhost:9191/api';
  const MAX_DOCS_PER_PAGE = 10;
  const MAX_PAGINATION_LINKS = 7;
  var CURRENT_PAGE = 1;
  var RECALL_TYPES = [];
</script>
<!--
  If the WET template you will be using already has JQuery loaded, you can
  ignore the following script include:
 -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

    <script> /* come back later and add apreventDefault to not get the link jump/page refresh issue */
    $(function(){
       $("#recall-categories-filter a").click(function() {
          // remove classes from all
          $("a").removeClass("active");
          // add class to the one we clicked
          $(this).addClass("active");
       });
       $("#searchForm").click(function() {
          $("#currentConcerns").addClass("wb-inv");
          $(".opening-game").addClass("wb-inv");
          $(".pagetag").addClass("wb-inv");

       });

    });
    </script>

<!-- ↑ ↑ EMBED ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ -->

</head>

<body class="page-type-nav" vocab="http://schema.org/" typeof="WebPage">
<ul id="wb-tphp">
<li class="wb-slc">
<a class="wb-sl" href="#wb-cont">Skip to main content</a>
</li>
<li class="wb-slc">
<a class="wb-sl" href="#wb-info">Skip to "About government"</a>
</li>
</ul>

<header>
<div id="wb-bnr" class="container">
<section id="wb-lng" class="text-right">
<h2 class="wb-inv">Language selection</h2>
<ul class="list-inline margin-bottom-none">
<li><a lang="fr" href="theme-fr.html">Français</a></li>
</ul>
</section>

<div class="row">
<div class="brand col-xs-5 col-md-4">
<a href="https://www.canada.ca/en.html"><img src="https://wet-boew.github.io/themes-dist/GCWeb/GCWeb/assets/sig-blk-en.svg" alt=""><span class="wb-inv"> Government of Canada / <span lang="fr">Gouvernement du Canada</span></span></a>
</div>
</div>
</div>
<nav class="gcweb-v2 gcweb-menu" typeof="SiteNavigationElement"><div class="container">
  <h2 class="wb-inv">Menu</h2>
  <button type="button" aria-haspopup="true" aria-expanded="false"><span class="wb-inv">Main </span>Menu <span class="expicon glyphicon glyphicon-chevron-down"></span></button>
  <ul role="menu" aria-orientation="vertical" data-ajax-replace="https://www.canada.ca/content/dam/canada/sitemenu/sitemenu-v2-en.html">
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/jobs.html">Jobs and the workplace</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/immigration-citizenship.html">Immigration and citizenship</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://travel.gc.ca/">Travel and tourism</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/business.html">Business and industry</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/benefits.html">Benefits</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/health.html">Health</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/taxes.html">Taxes</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/environment.html">Environment and natural resources</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/defence.html">National security and defence</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/culture.html">Culture, history and sport</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/policing.html">Policing, justice and emergencies</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/transport.html">Transport and infrastructure</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="http://international.gc.ca/world-monde/index.aspx?lang=eng">Canada and the world</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/finance.html">Money and finances</a></li>
    <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.canada.ca/en/services/science.html">Science and innovation</a></li>
  </ul>
</div></nav>
<nav id="wb-bc" property="breadcrumb">
<h2>You are here:</h2>
<div class="container">
<ol class="breadcrumb">
<li class="cust-breadcrumb"><a href="https://www.canada.ca/en.html">Home</a></li>
<li class="cust-breadcrumb"><a href="https://www.canada.ca/en/services/health.html">Health</a></li>
</ol>
</div>
</nav>
</header>

<main role="main" property="mainContentOfPage" class="container">

<h1 style="margin-top: 15px;">Recalls and safety alerts</h1>
<p class="pagetag">Find all Government of Canada recalls, advisories, public health notices, updates and safety alerts.</p>
<div class="row">

<div class="col-md-12 row">


    <!-- Hide once search is activated -->
    <aside class="col-sm-12 col-md-4" id="currentConcerns">
    <h2 class="h3" style="margin-top: 10px">Current concerns</h2>
    <div class="row">
    <div class="col-sm-6 col-xs-6 col-md-12">
    <a href="http://healthycanadians.gc.ca/recall-alert-rappel-avis/hc-sc/2018/66890a-eng.php"><h3 class="h6">Unauthorized products may pose serious health risks</h3>
    </div>

    <div class="col-sm-6 col-xs-6 col-md-12">
    <img src="./search-results/images/nutrakey.jpg" alt="" class="cq-dd-image img-responsive thumbnail mrgn-bttm-sm center-cropped" data-emptytext="Image"/></a>
    </div>

    <div class="col-sm-6 col-xs-6 col-md-12">
      <a href="https://www.canada.ca/en/public-health/services/public-health-notices/2018/public-health-notice-outbreak-salmonella-infections-linked-poultry-frozen-raw-breaded-chicken-products.html"><h3 class="h6">Outbreak of Salmonella infections linked to poultry – including frozen</h3>
    </div>
    <div class="col-sm-6 col-xs-6 col-md-12">
      <div class="visible-xs"><br /></div> <!-- this br is a quick fix for mobile gap issue... real fix could be to add a class here to target after the first child and add spacing on mobile viewport size -->
      <img src="./search-results/images/chicken_nuggets.jpg" alt="" class="cq-dd-image img-responsive thumbnail mrgn-bttm-sm center-cropped" data-emptytext="Image"/></a>
    </div>
  </div>
    </aside>

  <!-- end open game current concerns -->

  <div class="pull-right col-md-8 col-sm-12 col-xs-12">
    <!-- Note: need this to actually populate with the results, need a 'recall-total' that populates on page load -->
    <h2 class="r-title">8,875 results</h2>
    <div class="input-group input-recalls">
      <form id="searchForm" action="#"> <!-- searchFrom is part of EMBED -->
        <input id="terms" class="r-search" name="terms" type="text" placeholder="Search all recalls">
        <button class="r-search-btn" type="submit">Find</button>
        <div id="searchSpellCheck" style="display: none;">Did you mean: <a href="#">blah</a></div>
        <div id="error" style="display: none;"></div>
      </form>
    </div> <!-- input -->

    <div id="noResults" style="display:none;">
      No recalls matching your search criteria were found.
    </div>
  <hr>

      <div class="row">
        <h2 class="wb-inv">Filter by:</h2>
        <ul id="recall-categories-filter" class="toc lst-spcd col-md-12 wrap">
          <!-- Note: need these links to work as filter categories, also need them to show active as needed after a search is done, ie it it's showing results from Health and Food, both should be active state -->
          <li><a id="food-link"  class="active recalls-filter-1-var-2"><span class="recalls-filter-label">Food and allergies</span></a></li>
          <li><a id="vehicles-link"  class="active recalls-filter-2-var-2"><span class="recalls-filter-label">Vehicles</span></a></li>
          <li><a id="medical-link" class="active recalls-filter-3-var-2"><span class="recalls-filter-label">Health</span></a></li>
          <li><a id="products-link"  class="active recalls-filter-4-var-2"><span class="recalls-filter-label">Consumer products</span></a></li>
        </ul>
    </div>

  </div> <!-- p-r col-md-8 -->

<!-- start facets -->

<!-- searchResponse is part of EMBED -->
<div id="searchResponse" style="display:none;"> <!-- move this here for now to encompass all searchy-active things -->

<div class="col-sm-12 col-md-4">
  <!-- Note: clear all filters doesn't yet do anything, need to get it working -->
    <button class="btn-clear pull-right" href="">Clear all filters&nbsp;&nbsp;<i class="fas fa-times"></i></button>

  <div class="col-sm-6 row">
    <h2 class="mrgn-tp-lg h6">&#9776; Filter by</h2>
  </div>
  <div class="clearfix"></div>
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingOne">
          <!-- Note: need this to populate with Food & allergies, Vehicles, Health or Products -->
          <h3 class="panel-title">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">**need to populate panel title**
            </a>
          </h3>
        </div>


        <div id="collapseOne" class="panel-collapse" role="tabpanel" aria-labelledby="headingOne">
          <div id="searchFacets" class="panel-body" > <!-- searchFacets is part of EMBED -->
            <ul class="recalls-f list-unstyled can-ca-form recall-facet-type"> <!-- recall-facet-type is part of EMBED -->

              <!-- "template-facet-entry" gets added here. -->

            </ul> <!-- recalls can-ca-form -->

        </div> <!-- panel body -->
      </div> <!-- collapseOne -->
    </div> <!-- panel-default -->
    </div> <!-- panel-group -->


</div> <!-- end facets -->

<!-- EMBED STUFFS -->
<div id="searchResults" style="margin: 10px 0px;" class="row col-md-8">
  <!-- "template-recall" gets added here. -->
</div> <!-- end searchResults -->

<div id="searchPagination">
  <a href="#" class="recall-pagination-prev">Previous</a>
  <span id="searchPageLinks">
    <!-- "template-page-link" gets added here. -->
  </span>
  <a href="#" class="recall-pagination-next">Next</a>
</div> <!-- end searchPagination -->



</div> <!-- end searchResponse -->

<div class="opening-game">
<section class="col-md-8 pull-right">
     <h2 class="h3">Tell us about side effects, injuries and other safety concerns</h2>
     <details>
      <summary class="text-primary">Report an incident</summary>
  <div class="form-group"><label for="submitter_personName" class="required" aria-required="true"><span class="field-name">Name (first name and last name)</span> <strong class="required" aria-required="true">(required)</strong> </label>
                       <textarea class="form-control word-wrap hidden-print ng-pristine ng-invalid ng-invalid-required ng-valid-maxlength ng-touched" msd-elastic="" id="submitter_personName" name="submitter_personName" ng-model="submitter.personName" required="" placeholder="Name" rows="1" cols="60" maxlength="50" ng-change="copyText(submitter.personName, 'submitter_personName')" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 36px;" aria-required="true">                      </textarea>
                        <div class="panel panel-default visible-print">
                           <div class="panel-body">
                                <p id="submitter_personName_txt" class="visible-print ng-binding"></p>
                           </div>
                       </div>
                  </div>

  <div class="form-group"><label for="submitter_email" class="required" aria-required="true"><span class="field-name">Email</span><br> <strong class="required" aria-required="true">(Email OR Telephone is required)</strong>, both are preferred </label>
                       <textarea class="form-control word-wrap hidden-print emailValidation required_group ng-pristine ng-untouched ng-valid ng-valid-maxlength" msd-elastic="" id="submitter_email" name="submitter_email" ng-model="submitter.email" placeholder="email@example.com" rows="1" cols="60" maxlength="50" ng-change="copyText(submitter.email, 'submitter_email')" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 36px;">                     </textarea>
                      <div class="panel panel-default visible-print">
                            <div class="panel-body">
                                 <p id="submitter_email_txt" class="visible-print ng-binding"></p>
                            </div>
                        </div>
                  </div>

  <div class="form-group"><label for="affectedPerson_incidentExperiencedDate_0" class="required" aria-required="true"><span class="field-name">Date of the Incident </span><span class="datepicker-format">(<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</span> <strong class="required" aria-required="true">(required)</strong> </label>
                                       <input class="form-control ng-pristine ng-untouched ng-invalid ng-invalid-required" id="affectedPerson_incidentExperiencedDate_0" name="affectedPerson_incidentExperiencedDate_0" ng-model="affectedPerson.incidentExperiencedDate" hcform-datepicker="" type="date" data-rule-dateiso="true" required="" onkeypress="return noEnter(event)" aria-required="true">
                                  </div>

  <div class="row">
                              <div class="col-md-6 pull-left">
                                  <div class="form-group"><label for="affectedPerson_lkpIncidentTypeId_0" class="required" aria-required="true"><span class="field-name">Incident Type</span> <strong class="required" aria-required="true">(required)</strong> </label>
                                       <select class="form-control ng-pristine ng-invalid ng-invalid-required ng-touched" id="affectedPerson_lkpIncidentTypeId_0" name="affectedPerson_lkpIncidentTypeId_0" ng-model="affectedPerson.lkpIncidentTypeId" ng-options="obj.id as obj.name for obj in lstIncidentType" ng-change="populateObjectPropertyByValue(affectedPerson.lkpIncidentTypeId, 'submission.lkpCaseSubtypeId', $index)" required="" aria-required="true"><option value="" class="">Select Incident Type</option><option value="0" label="Death">Death</option><option value="1" label="Serious Injury">Serious Injury</option><option value="2" label="Injury">Injury</option><option value="3" label="Product Defect">Product Defect</option><option value="4" label="Incorrect/Insufficient Information">Incorrect/Insufficient Information</option><option value="5" label="Recall">Recall</option><option value="6" label="Property Damage">Property Damage</option><option value="7" label="Incident, No Injury">Incident, No Injury</option><option value="8" label="Other">Other</option></select>
                                  </div>
                              </div>
                              <div class="col-md-6 pull-right">
                                  <div class="form-group"><label for="affectedPerson_lkpInjuryTypeId_0" class="required" aria-required="true"><span class="field-name">Injury Type</span> <strong class="required" aria-required="true">(required)</strong> </label>
                                       <select class="form-control ng-pristine ng-invalid ng-invalid-required ng-touched" id="affectedPerson_lkpInjuryTypeId_0" name="affectedPerson_lkpInjuryTypeId_0" ng-model="affectedPerson.lkpInjuryTypeId" ng-options="obj.id as obj.name for obj in lstInjury" required="" aria-required="true"><option value="" class="">Select Injury Type</option><option value="0" label="No Injury">No Injury</option><option value="1" label="Amputation">Amputation</option><option value="2" label="Bruise/Abrasion/Contusion/Pinching">Bruise/Abrasion/Contusion/Pinching</option><option value="3" label="Burn/Scald">Burn/Scald</option><option value="4" label="Choking">Choking</option><option value="5" label="Concussion">Concussion</option><option value="6" label="Cut/Laceration">Cut/Laceration</option><option value="7" label="Dislocation">Dislocation</option><option value="8" label="Drowning">Drowning</option><option value="9" label="Electric Shock">Electric Shock</option><option value="10" label="Fracture">Fracture</option><option value="11" label="Inflammation/Irritation/Dermatitis">Inflammation/Irritation/Dermatitis</option><option value="12" label="Ingested Object">Ingested Object</option><option value="13" label="Internal Organ Injury">Internal Organ Injury</option><option value="14" label="Piercing/puncturing/penetration">Piercing/puncturing/penetration</option><option value="15" label="Poisoning">Poisoning</option><option value="16" label="Strain / Sprain">Strain / Sprain</option><option value="17" label="Strangulation">Strangulation</option><option value="18" label="Suffocation">Suffocation</option><option value="19" label="Other/Not Stated">Other/Not Stated</option></select>
                                  </div>
                              </div>
                          </div>

  <div class="form-group"><label for="affectedPerson_lkpTreatmentTypeId_0" class="required" aria-required="true"><span class="field-name">Treatment</span> <strong class="required" aria-required="true">(required)</strong> </label>
                                       <select class="form-control ng-pristine ng-invalid ng-invalid-required ng-touched" id="affectedPerson_lkpTreatmentTypeId_0" name="affectedPerson_lkpTreatmentTypeId_0" ng-model="affectedPerson.lkpTreatmentTypeId" ng-options="obj.id as obj.name for obj in lstTreatment" required="" aria-required="true"><option value="" class="">Select Treatment</option><option value="0" label="None">None</option><option value="1" label="First Aid">First Aid</option><option value="2" label="Provincial Health Care Info Service">Provincial Health Care Info Service</option><option value="3" label="Poison Control Centre">Poison Control Centre</option><option value="4" label="Family Doctor">Family Doctor</option><option value="5" label="Hospital-Emergency Room">Hospital-Emergency Room</option><option value="6" label="Hospital-Other">Hospital-Other</option><option value="7" label="Other Medical Professional">Other Medical Professional</option><option value="8" label="Other">Other</option><option value="9" label="Unknown">Unknown</option></select>
                                  </div>

  <div class="form-group"><label for="incident_incidentDescription" class="required" aria-required="true"><span class="field-name">Describe the Incident</span> <strong class="required" aria-required="true">(required)</strong> </label><br>
                           <div id="characterRemaining"><small>Characters remaining: <span class="ng-binding">2000</span></small></div>
                           <textarea class="form-control word-wrap hidden-print ng-pristine ng-untouched ng-invalid ng-invalid-required ng-valid-maxlength" msd-elastic="" id="incident_incidentDescription" name="incident_incidentDescription" ng-model="incident.incidentDescription" ng-trim="false" placeholder="Describe the Incident" required="" aria-multiline="true" rows="5" cols="150" maxlength="2000" ng-change="copyText(incident.incidentDescription, 'incident_incidentDescription')" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 126px;" aria-required="true">                         </textarea>
                           <div class="panel panel-default visible-print">
                               <div class="panel-body">
                                    <p id="incident_incidentDescription_txt" class="visible-print ng-binding"></p>
                               </div>
                            </div>
                      </div>

  <div class="form-group"><label for="product_productBrandName" class="required" aria-required="true"><span class="field-name">Product Brand and Name</span> <strong class="required" aria-required="true">(required)</strong> </label>
                           <textarea class="form-control word-wrap hidden-print ng-pristine ng-invalid ng-invalid-required ng-valid-maxlength ng-touched" msd-elastic="" id="product_productBrandName" name="product_productBrandName" ng-model="product.productBrandName" required="" placeholder="Product Brand and Name" rows="1" cols="60" maxlength="100" ng-change="copyText(product.productBrandName, 'product_productBrandName')" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 36px;" aria-required="true">                         </textarea>
                           <div class="panel panel-default visible-print">
                               <div class="panel-body">
                                    <p id="product_productBrandName_txt" class="visible-print ng-binding"></p>
                               </div>
                            </div>
                      </div>

  <div class="form-group"><label for="product_productDescription" class="required" aria-required="true"><span class="field-name">Product Description (for example: colour, packaging, warnings on the label)</span> <strong class="required" aria-required="true">(required)</strong> </label><br>
                             <div id="characterRemaining"><small>Characters remaining: <span class="ng-binding">1500</span></small></div>
                             <textarea class="form-control word-wrap hidden-print ng-pristine ng-untouched ng-invalid ng-invalid-required ng-valid-maxlength" msd-elastic="" id="product_productDescription" name="product_productDescription" ng-model="product.productDescription" ng-trim="false" required="" placeholder="Product description" rows="5" cols="150" maxlength="1500" ng-change="copyText(product.productDescription, 'product_productDescription')" style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 126px;" aria-required="true">                           </textarea>
                             <div class="panel panel-default visible-print">
                                  <div class="panel-body">
                                      <p id="product_productDescription_txt" class="visible-print ng-binding"></p>
                                  </div>
                              </div>
                        </div>

  <div class="form-group"><label for="whereGotPrdct_lkpContactContextId" class="required" aria-required="true"><span class="field-name">From whom did you get the product</span><br><strong class="required" aria-required="true">(required when this section is completed)</strong> </label>
                           <select class="form-control ng-pristine ng-untouched ng-valid" id="whereGotPrdct_lkpContactContextId" name="whereGotPrdct_lkpContactContextId" ng-model="whereGotPrdct.lkpContactContextId">
                                   <option value="">Select From whom did you get the product</option>
                                   <!-- ngRepeat: obj in lstPrdctFrmWhmConsumer --><option ng-repeat="obj in lstPrdctFrmWhmConsumer" value="52401" class="ng-binding ng-scope">Gift</option><!-- end ngRepeat: obj in lstPrdctFrmWhmConsumer --><option ng-repeat="obj in lstPrdctFrmWhmConsumer" value="52400" class="ng-binding ng-scope">Promotional Item</option><!-- end ngRepeat: obj in lstPrdctFrmWhmConsumer --><option ng-repeat="obj in lstPrdctFrmWhmConsumer" value="52397" class="ng-binding ng-scope">Purchased New</option><!-- end ngRepeat: obj in lstPrdctFrmWhmConsumer --><option ng-repeat="obj in lstPrdctFrmWhmConsumer" value="52399" class="ng-binding ng-scope">Purchased Used From Person e.g. Yard Sale</option><!-- end ngRepeat: obj in lstPrdctFrmWhmConsumer --><option ng-repeat="obj in lstPrdctFrmWhmConsumer" value="52398" class="ng-binding ng-scope">Purchased Used From Retailer</option><!-- end ngRepeat: obj in lstPrdctFrmWhmConsumer --><option ng-repeat="obj in lstPrdctFrmWhmConsumer" value="52402" class="ng-binding ng-scope">Other</option><!-- end ngRepeat: obj in lstPrdctFrmWhmConsumer -->
                           </select>
                      </div>

  <div id="submit" col-md-3="" pull-left="">
           <input type="submit" ng-disabled="isAutoFill" value="Proceed to Submit" class="btn btn-default" style="height:45px!important;">
       </div>
  </details>

  <h2 class="h3">More about recalls, food poisoning and alerts</h2>
  <ul>
    <li><a href="http://www.healthycanadians.gc.ca/recall-alert-rappel-avis/what-quoi-eng.php">What to do when a product is recalled</a></li>
    <li><a href="https://www.canada.ca/en/services/health/food-recalls-risks-outbreaks.html">Food poisoning and outbreaks</a></li>
    <li><a href="http://www.healthycanadians.gc.ca/recall-alert-rappel-avis/learn-renseignez-eng.php">Types of alerts</a></li>
  </ul>
</section>
</div> <!-- close opening-game -->

<div class="clearfix"></div>

<div class="pagedetails col-md-12"> <!-- start report a problem, etc -->

<details class="brdr-0 col-sm-6 col-lg-4 mrgn-tp-sm">
<summary class="btn btn-default text-center">Report a problem or mistake on this page</summary>
<div class="clearfix"></div>
<div class="well">
    <div><div class="gc-rprt-prblm">
    <div class="gc-rprt-prblm-frm gc-rprt-prblm-tggl">
        <section id="privacy" class="mfp-hide modal-dialog modal-content overlay-def">
            <header class="modal-header">
                <h2 class="modal-title">Privacy statement</h2>
            </header>
            <div class="modal-body">
                <p>The information you provide through this survey is collected under the authority of the <em><a href="http://laws-lois.justice.gc.ca/eng/acts/H-5.7/page-1.html">Department of Employment and Social Development Act (DESDA)</a></em> for the purpose of measuring the performance of Canada.ca and continually improving the website. Your participation is voluntary.</p>
<p>Please do not include sensitive personal information in the message box, such as your name, address, Social Insurance Number, personal finances, medical or work history or any other information by which you or anyone else can be identified by your comments or views.</p>
<p>Any personal information collected will be administered in accordance with the <em><a href="http://laws-lois.justice.gc.ca/eng/acts/H-5.7/page-1.html">Department of Employment and Social Development Act</a></em>, the <em><a href="http://laws-lois.justice.gc.ca/eng/acts/P-21/index.html">Privacy Act</a></em> and other applicable privacy laws governing the protection of personal information under the control of the Department of Employment and Social Development. Survey responses will not be attributed to individuals.</p>
<p>If you wish to obtain information related to this survey, you may submit a request to the Department of Employment and Social Development pursuant to the <em><a href="http://laws-lois.justice.gc.ca/eng/acts/A-1/FullText.html">Access to Information Act</a></em>. Instructions for making a request are provided in the publication <a href="https://www.canada.ca/en/treasury-board-secretariat/services/access-information-privacy/access-information/request-information.html">InfoSource</a>, copies of which are located in local Service Canada Centres.</p>
<p>You have the right to file a complaint with the Privacy Commissioner of Canada regarding the institution’s handling of your personal information at: <a href="https://www.priv.gc.ca/en/report-a-concern/file-a-formal-privacy-complaint/">How to file a complaint</a>.</p>
<p>When making a request, please refer to the name of this survey: Report a Problem or Mistake on This Page.</p>

            </div>
        </section>
        <form id="gc-rprt-prblm-form" method="post" action="/gc/services/generateemail">
            <input type="hidden" name="pageTitle" value="Family Caregiver Benefit for Children – Eligibility">
            <input type="hidden" name="submissionPage" value="/content/canadasite/en/services/benefits/ei/family-caregiver-children/eligibility.html">
            <input type="hidden" name="lang" value="eng">
            <input type="hidden" name="pageOwner" value="gc:institutions/service-canada">
            <input id="emailTemplate" name="emailTemplate" type="hidden" value="reportaproblem/rap">
            <input name="subject" type="hidden" value="Report a problem or mistake on this page">
            <fieldset>
                <legend><span class="field-name">Please select all that apply: </span></legend>
                <div class="checkbox">
                    <label for="problem1"><input type="checkbox" data-reveal="#broken" name="problem1" value="Yes" id="problem1">Something is broken</label>
                    <input type="hidden" name="problem1" value="No" />
                </div>
                <div class="checkbox">
                    <label for="problem2"><input type="checkbox" data-reveal="#spelling" name="problem2" value="Yes" id="problem2">It has a spelling or grammar mistake</label>
                    <input type="hidden" name="problem2" value="No" />
                </div>
                <div class="checkbox">
                    <label for="problem3"><input type="checkbox" data-reveal="#wrong" name="problem3" value="Yes" id="problem3">The information is wrong</label>
                    <input type="hidden" name="problem3" value="No" />
                </div>
                <div class="checkbox">
                    <label for="problem4"><input type="checkbox" data-reveal="#outdated" name="problem4" value="Yes" id="problem4">The information is outdated</label>
                    <input type="hidden" name="problem4" value="No" />
                </div>
                <div class="checkbox">
                    <label for="problem5"><input type="checkbox" data-reveal="#find" name="problem5" value="Yes" id="problem5">I can’t find what I’m looking for</label>
                    <input type="hidden" name="problem5" value="No" />
                </div>
            </fieldset>
            <p><a href="#privacy" class="wb-lbx lbx-modal" role="button">Privacy statement</a></p>
            <button data-wb5-click="postback@#gc-rprt-prblm-form@" type="submit" class="btn btn-primary wb-toggle" data-toggle='{"stateOff": "hide", "stateOn": "show", "selector": ".gc-rprt-prblm-tggl"}'>Submit</button>

        </form>
    </div>
    <div class="gc-rprt-prblm-thnk gc-rprt-prblm-tggl hide">
        <h3>Thank you for your help!</h3>
<p>You will not receive a reply. For enquiries,&nbsp;<a href="https://www.canada.ca/en/contact/index.html">contact us</a>.</p>

    </div>
</div></div>
</div>

    </details>

    <div class="datemod row col-xs-12 mrgn-tp-lg">
      <dl id="wb-dtmd">
            <dt>Date modified:</dt>
            <dd><time property="dateModified">2017-12-01</time></dd>
      </dl>
    </div>
</div> <!-- report a problem/date -->

</div> <!-- col-md-12 -->

</div> <!-- row -->

</main>

<!-- TEMPLATES: -->



<div id="template-recall" style="display: none;" class="row recall col-xs-12">
      <h3 class="recall-title"><a href="#" class="recall-link">Recall title</a></h3>
        <p class="recall-date">5 Jun 2009</p>
        <div class="clearfix"></div>
  <hr>
        <!-- <div class="recall-summary">
        </div> -->

</div>




<a id="template-pagination-link" href="#" class="recall-page-link" style="display: none; padding: 0px 3px;">7</a>

<!-- recall-type , recall-facet-label -->

<!-- Note: checkboxes don't work yet -->
    <li id="template-facet-entry" style="display: none;" class="checkbox checkbox-small">
      <input class="recall-facet-link" type="checkbox" id="label-id"> <!-- Note: need this ID to match the label -->
      <label id="label-for" for="" class="recall-facet-label">Food</label><span class="recall-facet-count badge pull-right">111</span>  <!-- Note: need this ID to match the label -->
    </li>

<!-- <li id="template-facet-entry" style="display: none;">
  <a class="recall-facet-link" href="#">
    <span class="recall-facet-label">Honda Civic</span>
    (<span class="recall-facet-count">66</span>)
  </a>
</li> -->


<script type="text/javascript">

function clearAjaxError() {
    $("#error").empty();
    $("#error").hide();
}
function showAjaxError(jqXHR, text, errorThrown) {
    // Format this how you want or maybe display a generic error msg instead:
    $("#error").html(
        "<b>jqXHR:</b> " + JSON.stringify(jqXHR) + "<br>"
      + "<b>text:</b> " + JSON.stringify(text) + "<br>"
      + "<b>errorThrown:</b> " + JSON.stringify(errorThrown)
    );
    $('#error').show();
}
function noResults(data) {
    $('#noResults').show();
    $('#searchResponse').hide();
    updateSearchSpellCheck(data);
}
function updateResponse(data) {
    $('#noResults').hide();
    updateSearchHeading(data);
    updateSearchResults(data);
    updateSearchFacets(data);
    updateSearchPagination(data);
    updateSearchSpellCheck(data);
    $('#searchResponse').show();
    // jennifer(data);
}

function updateSearchResults(data) {
    $searchResults = $('#searchResults');
    $searchResults.empty();
    $.each(data.recalls.results, function(i, recall) {
        var $el = clone('#template-recall');
        $el.find('.recall-link').attr('href', recall.url);
        setHtml($el, '.recall-title', recall.title);
        setHtml($el, '.recall-summary', recall.description);
        setHtml($el, '.recall-type', recall.type);
        setHtml($el, '.recall-date', recall.date);
        setHtml($el, '.recall-department', recall.department);
        setHtml($el, '.recall-url', recall.url);
        setHtml($el, '.recall-id', recall.id);
        setHtml($el, '.recall-recallNo', recall.recallNo);
        setHtml($el, '.recall-alertType', recall.alertType);

        if ('vehicles' === recall.type) {
            setHtml($el, '.recall-make', recall.make);
            setHtml($el, '.recall-model', recall.model);
            setHtml($el, '.recall-years', recall.years);
            setHtml($el, '.recall-numberAffected', recall.numberAffected);
            setHtml($el, '.recall-systemType', recall.systemType);
            setHtml($el, '.recall-notificationType', recall.notificationType);
            $searchResults.find('.recall-vehicle').show();
        } else {
            $searchResults.find('.recall-vehicle').hide();
        }

        $searchResults.append($el);
        $el.show();
    });
}

function updateSearchHeading(data) {
    $searchHeading = $('#searchHeading');
    if (data.recalls.numFound > MAX_DOCS_PER_PAGE) {
        var from = ((CURRENT_PAGE - 1) * MAX_DOCS_PER_PAGE) + 1;
        var to = from + Math.min(MAX_DOCS_PER_PAGE, data.recalls.results.length) - 1;
        $searchHeading.find('.recall-from').text(from);
        $searchHeading.find('.recall-to').text(to);
        $searchHeading.find('.recall-showing').show();
    } else {
        $searchHeading.find('.recall-showing').hide();
    }
    $searchHeading.find('.recall-found').text(data.recalls.numFound);
}

function updateSearchSpellCheck(data) {
    $('#searchSpellCheck').hide();
    if (!data.spellCheck.empty) {
        $link = $('#searchSpellCheck a');
        $link.html(data.spellCheck.markup);
        $link.off('click');
        $link.click(function () {
            CURRENT_PAGE = 1;
            $('#terms').val(data.spellCheck.query);
            search();
            return false;
        });
        $('#searchSpellCheck').show();
    }
}

function updateSearchFacets(data) {
    //TODO Will need to be updated if we return more facets
    $searchFacetType =  $('#searchFacets .recall-facet-type');
    $searchFacetType.empty();
    if (!data.facets.empty) {
        $.each(data.facets[0].values, function(i, value) {
            var $facetEntry = clone('#template-facet-entry');
            $facetEntry.find('.recall-facet-label').text(value.name);
            $facetEntry.find('.recall-facet-count').text(value.count);

            $link = $facetEntry.find('.recall-facet-link');
            if (RECALL_TYPES.includes(value.name)) {
                $link.addClass('active');
            }
            $link.click(function() {
                CURRENT_PAGE = 1;
                if (RECALL_TYPES.includes(value.name)) {
                    RECALL_TYPES.splice(RECALL_TYPES.indexOf(value.name), 1);
                } else {
                    RECALL_TYPES.push(value.name);
                }
                search();
                return false;
            });

            $searchFacetType.append($facetEntry);
            $facetEntry.show();
        });
    }
}

function updateSearchPagination(data) {
    $searchPageLinks =  $('#searchPageLinks');
    $searchPageLinks.empty();
    var numOfPageLinks = Math.min(Math.ceil(
            data.recalls.numFound / MAX_DOCS_PER_PAGE), MAX_PAGINATION_LINKS);
    var first = Math.max(1, CURRENT_PAGE - Math.floor(numOfPageLinks / 2));
    var last = Math.min(numOfPageLinks, first + numOfPageLinks - 1);

    var prev = Math.max(1, CURRENT_PAGE - 1);
    var $prevLink = $('#searchPagination .recall-pagination-prev');
    updateSearchPaginationLink($prevLink, prev);

    var next = Math.min(numOfPageLinks, CURRENT_PAGE + 1);
    var $nextLink = $('#searchPagination .recall-pagination-next');
    updateSearchPaginationLink($nextLink, next);

    for (var i = first; i <= last; i++) {
        var $link = clone('#template-pagination-link');
        $link.text(i);
        updateSearchPaginationLink($link, i);
        $searchPageLinks.append($link);
        $link.show();
    }
}
function updateSearchPaginationLink($link, pageNumber) {
    if (pageNumber == CURRENT_PAGE) {
        $link.addClass('disabled');
        $link.removeAttr('href');
        if ($link.hasClass('recall-page-link')) {
            $link.addClass('active');
        }
    } else {
        $link.off('click');
        $link.attr('href', '#');
        $link.removeClass('disabled');
        $link.click(function() {
            CURRENT_PAGE = pageNumber;
            search();
            return false;
        });
    }
}

function setHtml($parent, childSelector, html) {
    var $child = $parent.find(childSelector);
    if ($child.length != 0) {
        if (html) {
            var h = html;
            if (Array.isArray(h)) {
                h = h.join(', ');
            }
            if (typeof h === 'string' || h instanceof String) {
                h = h.replace(/&lt;(\/?mark)&gt;/g, '<$1>');
            }
            $child.html(h);
        } else {
            $child.remove();
        }
    }
}

function clone(selector) {
    var $el = $(selector).clone();
    $el.removeAttr('id');
    return $el;
}

function search() {
    $.ajax({
        url: API_URL + '/search',
        data: JSON.stringify({
            'terms': $("#terms").val(),
            'pageIndex': CURRENT_PAGE,
            'docsPerPage': MAX_DOCS_PER_PAGE,
            'recallTypes': RECALL_TYPES
        }),
        dataType: "json",
        contentType: "application/json; charset=utf-8",
        crossDomain: true,
        type: "POST",
        success: function (data) {
            clearAjaxError();
            if (!data.recalls || data.recalls.length == 0 || data.recalls.numFound == 0) {
                noResults(data);
            } else {
                updateResponse(data);
            }
//            debug(data);
        },
        error: showAjaxError
    });
}

// function jennifer(data) {
//   console.log(data);
//   console.log(data.facets[0].values[0]);
//
//     // $.each(data.recalls.results, function(i, recall) {
//     //    console.log( data.recall.type );
//     // });
//
// }
//



$(document).ready(function () {
    $('#searchForm').submit(function(e) {
        e.preventDefault();
        CURRENT_PAGE = 1;
        search();
        return false;
    });
});

</script>

<!-- ↑ ↑ EMBED ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ ↑ -->

<script type="text/javascript">
var params = new window.URLSearchParams(window.location.search);
function debug(json) {
    $('#debug').text(JSON.stringify(json, null, 4));
}
// When debugging, below allows to pass the search term to the URL
// and submit the form.  Useful for refreshing the page without
// re-entering the value and pressing search over and over.
$(document).ready(function () {
    var terms = params.get('terms');
    if (terms) {
        $('#terms').val(terms);
        $('#searchForm').submit();
    }
});

</script>
<!-- <pre id="debug"></pre> -->

<script>
window.onload = function(){

var checkTitle = $( '#label-for' ).first().text(); // this is working, but not populating when the label rename/populating happens

 /* make this recall-facet-label , would need to be switched to the subcategories when they become available */

var element = document.getElementById('label-id');
  element.setAttribute('id', checkTitle);

var element = document.getElementById('label-for');
  element.removeAttribute('id');
  element.setAttribute('for', checkTitle);

};
</script>

<div class="global-footer">
<footer id="wb-info">
<div class="landscape">
<nav class="container wb-navcurr">
    <h2 class="wb-inv">About government</h2>
    <ul class="list-unstyled colcount-sm-2 colcount-md-3">
      <li><a href="/en/contact.html">Contact us</a></li>
      <li><a href="/en/government/dept.html">Departments and agencies</a></li>
      <li><a href="/en/government/publicservice.html">Public service and military</a></li>
      <li><a href="/en/news.html">News</a></li>
      <li><a href="/en/government/system/laws.html">Treaties, laws and regulations</a></li>
      <li><a href="/en/transparency/reporting.html">Government-wide reporting</a></li>
      <li><a href="http://pm.gc.ca/en">Prime Minister</a></li>
      <li><a href="/en/government/system.html">About government</a></li>
      <li><a href="http://open.canada.ca/en">Open government</a></li>
    </ul>
</nav>
</div>
<div class="brand">
    <div class="container">
        <div class="row">
            <nav class="col-md-10 ftr-urlt-lnk">
                <h2 class="wb-inv">About this site</h2>
                <ul>
                  <li><a href="/en/social.html">Social media</a></li>
                  <li><a href="/en/mobile.html">Mobile applications</a></li>
                  <li><a href="/en/government/about.html">About Canada.ca</a></li>
                  <li><a href="/en/transparency/terms.html">Terms and conditions</a></li>
                  <li><a href="/en/transparency/privacy.html">Privacy</a></li>
                </ul>
            </nav>
            <div class="col-xs-6 visible-sm visible-xs tofpg">
                <a href="#wb-cont">Top of page <span class="glyphicon glyphicon-chevron-up"></span></a>
            </div>
            <div class="col-xs-6 col-md-2 text-right">
                <img src="https://www.canada.ca/etc/designs/canada/wet-boew/assets/wmms-blk.svg" alt="Symbol of the Government of Canada"/>
            </div>
        </div>
    </div>
</div>
</footer>
</div>

<!--[if gte IE 9 | !IE ]><!-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"></script>-->
<script src="https://www.canada.ca/etc/designs/canada/wet-boew/js/wet-boew.min.js"></script>
<!--<![endif]-->
<!--[if lt IE 9]>
<script src="../wet-boew/js/ie8-wet-boew2.min.js"></script>
<![endif]-->
<script src="https://www.canada.ca/etc/designs/canada/wet-boew/js/theme.min.js"></script>
</body>
</html>
